@page "/"
@inject CountryService countryService;
@using MudBlazorPlayground.Mobile.Data;

@if (_loading)
{
    <CountryCardSkeleton></CountryCardSkeleton>
}
else
{
    <CountryCard></CountryCard>
}

@code{
    private bool _loading = true;
    private List<CountryFlag> _countries = new List<CountryFlag>();


    protected override async Task OnInitializedAsync()
    {
        _loading = true;
        _countries = await countryService.GetCountriesAsync();
    }

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        _loading = false;
    }
}